{% extends "layout/base.html" %}
{% block nav_home %}active{% endblock %}
{% block content %}

<section id="profile-page">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-8 offset-md-2">
        <div id="accordion">
          <!-- Details card -->
          <div class="card">
            <div class="card-header green-background" id="headingOne">
              <h5 class="mb-0">
                <button class="btn btn-link" data-toggle="collapse"
                  data-target="#collapseOne" aria-expanded="true"
                  aria-controls="collapseOne">
                  <i class="fab fa-forumbee"></i> <strong>Your Details</strong>
                </button>
              </h5>
            </div>
            <div id="collapseOne" class="collapse show"
              aria-labelledby="headingOne" data-parent="#accordion">
              <div class="card-body">
                <div class="form-row">
                  <!-- Membership -->
                  <div class="form-group col-md">
                    <div class="input-group mb-2">
                      <div class="input-group-prepend" data-toggle="tooltip"
                        data-placement="top" data-type="info"
                        title="Membership">
                        <div class="input-group-text">
                          {% if member_type == "Queen Bee"%}<i
                            class="fas fa-crown"></i>
                          {% elif member_type == "Worker Bee"%}<i
                            class="fas fa-hard-hat"></i>
                          {% elif member_type == "Busy Bee" %}<i
                            class="fas fa-user"></i>
                          {% endif %}
                        </div>
                      </div>
                      <p class="form-control">You are currently a
                        {{ member_type }}
                      </p>
                    </div>
                  </div>
                </div>
                <div class="form-row">
                  <!-- Username -->
                  <div class="form-group col-md-6">
                    <div class="input-group mb-2">
                      {% include "components/tooltips/tooltip-name.html" %}
                      <p class="form-control">{{ username }}</p>
                    </div>
                  </div>
                  <!-- Email -->
                  <div class="form-group col-md-6">
                    <div class="input-group mb-2">
                      {% include "components/tooltips/tooltip-email.html" %}
                      <p class="form-control">{{ email }}</p>
                    </div>
                  </div>
                </div>
                <!-- Amend profile -->
                <hr>
                <div class="container-fluid">
                  <div class="row">
                    <div id="delete-profile"
                      class="btn col-1 offset-10 btn-delete" data-toggle="modal"
                      data-target="#modal-delete-profile"><i
                        class="fas fa-trash-alt" data-toggle="tooltip"
                        data-placement="top" data-type="info"
                        title="Delete"></i></div>
                    <div id="amend-profile" class="btn col-1 btn-edit"
                      data-toggle="modal" data-target="#modal-edit-profile"><i
                        class="fas fa-edit" data-toggle="tooltip"
                        data-placement="top" data-type="info" title="Edit"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Activity card -->
          {% if member_type == "Busy Bee" %}
          <div class="card">
          {% endif %}
          <div class="card-header green-background space-below">
            <h5 class="mb-0">
              <strong>Your Hive Activity</strong>
            </h5>
          </div>
          {% if member_type == "Busy Bee" %}
          <div class="card-body">
            <p>As a Busy Bee, you are not able to add collection points for the Hive.<br>
            To become a Worker Bee, please click 'Become a Worker Bee!' below and add your location and details for your first collection. Once this has been approved
            by the Queen Bee(s), you will be able to add more locations and collections without waiting for approval.</p>
          </div>
          </div>
          {% include "components/first-collection-card.html" %}
          {% else %}
          {% include "components/locations-card.html" %}
          {% include "components/collections-card.html" %}
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

{% include "components/edit-modal.html" %}

{% include "components/delete-modal.html" %}

{% if member_type != "Busy Bee" %}
    {% include "components/add-modal.html" %}
{% endif %}

{% endblock %}